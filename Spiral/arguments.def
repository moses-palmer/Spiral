ARGUMENT(struct { int width; int height; }, window_size, "-w",
    "<WIDTH> <HEIGHT>\n"
    "Sets the size of the window.\n"
    "\n"
    "If this is not specified, the application will run in full screen mode.\n",
    2,
    ARGUMENT_IS_OPTIONAL,

    target->width = 0;
    target->height = 0;
    ,

    target->width = atoi(value_strings[0]);
    target->height = atoi(value_strings[1]);
    is_valid = target->width > 1 && target->height > 1;

    if (!is_valid) {
        fprintf(stderr, "Invalid value for window-size (%s %s): dimensions "
            "must be integers larger than 1\n",
            value_strings[0], value_strings[1]);
    }
    ,
)

ARGUMENT(unsigned int, spiral_alterations, "-a",
    "<ALTERATIONS>\n"
    "Sets the number of changes of direction for the spiral.\n"
    "\n"
    "This must be a value between 1 and 30.\n"
    "\n"
    "Default: 10",
    1, ARGUMENT_IS_OPTIONAL,

    *target = 10;
    ,

    *target = atoi(value_strings[0]);
    is_valid = *target >= 1 && *target <= 30;

    if (!is_valid) {
        fprintf(stderr, "Invalid value for ALTERATIONS (%s): the value must be "
            "a number between 1 and 30\n",
            value_strings[0]);
    }
    ,
)

ARGUMENT(unsigned int, spiral_curves, "-c",
    "<CURVES>\n"
    "Sets the number of curves for the spiral.\n"
    "\n"
    "This must be a value between 1 and 30.\n"
    "\n"
    "Default: 10",
    1, ARGUMENT_IS_OPTIONAL,

    *target = 10;
    ,

    *target = atoi(value_strings[0]);
    is_valid = *target >= 1 && *target <= 30;

    if (!is_valid) {
        fprintf(stderr, "Invalid value for CURVES (%s): the value must be a "
            "number between 1 and 30\n",
            value_strings[0]);
    }
    ,
)

ARGUMENT(double, spiral_line_width, "-l",
    "<LINE_WIDTH>\n"
    "Sets the width of the spiral line.\n"
    "\n"
    "Setting this to 0.5 will make the spiral half filled and half "
    "transparent, and a smaller value will make the transparent part bigger.\n"
    "\n"
    "This must be a value between 0.1 and 0.99.\n"
    "\n"
    "Default: 0.2",
    1, ARGUMENT_IS_OPTIONAL,

    *target = 0.2;
    ,

    char *end;
    *target = strtod(value_strings[0], &end);
    is_valid = *end == 0 && *target >= 0.1 && *target <= 0.99;

    if (!is_valid) {
        fprintf(stderr, "Invalid value for LINE_WIDTH (%s): the value must be "
            "a number between 0.1 and 0.99\n",
            value_strings[0]);
    }
    ,
)

ARGUMENT(double, spiral_rotation_speed, "-r",
    "<SPEED>\n"
    "Sets the rotation speed of the spiral, expressed in cycles per second.\n"
    "\n"
    "This must be a value between 0.05 and 0.75.\n"
    "\n"
    "Default: 0.35",
    1, ARGUMENT_IS_OPTIONAL,

    *target = 0.35;
    ,

    char *end;
    *target = strtod(value_strings[0], &end);
    is_valid = *end == 0 && *target >= 0.05 && *target <= 0.75;

    if (!is_valid) {
        fprintf(stderr, "Invalid value for SPEED (%s): the value must be "
            "a number between 0.05 and 0.75\n",
            value_strings[0]);
    }
    ,
)
